<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Embedded Quiz</title>
	<style>
		html, body {
			margin: 0;
			padding: 0;
			width: 100%;
			height: 100%;
			overflow: hidden;
		}
		iframe {
			width: 100%;
			height: 100%;
			border: 0;
		}
	</style>
</head>
<body>

	<iframe id="quiz-frame"
		src="https://elkkumorsa123.github.io/Questior/questionnaire.html"
		allow="fullscreen">
	</iframe>

	<script>
		const QUIZ_URL = "https://elkkumorsa123.github.io/Questior/newest_save.json";
		const frame = document.getElementById("quiz-frame");

		// Listen for message from Godot iframe
		window.addEventListener("message", function(event) {
			if(event.data === "requestQuizUrl") {
				// Send message to Godot node using Engine.send
				frame.contentWindow.postMessage({
					node: "LoadFile",       // Node name in Godot
					method: "load_from_url", // Function in GDScript
					args: [QUIZ_URL]
				}, "*");
				console.log("Parent sent quiz URL to Godot:", QUIZ_URL);
			}
		});
	</script>

</body>
</html>
